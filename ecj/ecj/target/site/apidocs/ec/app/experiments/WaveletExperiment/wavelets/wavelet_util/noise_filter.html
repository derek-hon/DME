<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) on Fri Feb 24 15:31:35 EST 2023 -->
<title>noise_filter (ecj 27 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-02-24">
<meta name="description" content="declaration: package: ec.app.experiments.WaveletExperiment.wavelets.wavelet_util, class: noise_filter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/noise_filter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">ec.app.experiments.WaveletExperiment.wavelets.wavelet_util</a></div>
<h1 title="Class noise_filter" class="title">Class noise_filter</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="plot.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.plot</a>
<div class="inheritance">ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter</div>
</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">noise_filter</span>
<span class="extends-implements">extends <a href="plot.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">plot</a></span></div>
<div class="block"><p>
  The objective in filtering is to remove noise while keeping the
  features that are interesting.
  </p>

  <p> 
  Wavelets allow a time series to be examined at various
  resolutions.  This can be a powerful tool in filtering out noise.
  This class supports the subtraction of gaussian noise from
  the time series.
  </p>

  <p>
  The identification of noise is complex and I have not found any
  material that I could understand which discussed noise
  identification in the context of wavelets.  I did find some material
  that has been difficult and frustrating.  In particular
  <i>Image Processing and Data Analysis: the multiscale approach</i>
  by Starck, Murtagh and Bijaoui.
  </p>
  
  <p>
  If the price of a stock follows a random walk, its price will be
  distributed in a bell (gaussian) curve.  This is one way of stating
  the concept from financial theory that the daily return is normally
  distributed (here daily return is defined as the difference between
  yesterdays close price and today's close price).  Movement outside
  the bounds of the curve may represent something other than a random walk
  and so, in theory, might be interesting.
  </p>

  <p> 
  At least in the case of the single test case used in developing this
  code (Applied Materials, symbol: AMAT), the coefficient distribution
  in the highest frequency is almost a perfect normal curve.  That is,
  the mean is close to zero and the standard deviation is close to
  one.  The area under this curve is very close to one.  This
  resolution approximates the daily return.  At lower frequencies the
  mean moves away from zero and the standard deviation increases.
  This results is a flattened curve, whose area in the coefficient
  range is increasingly less than one.
  </p>

  <p> 
  The code in this class subtracts the normal curve from the
  coefficients at each frequency up to some minimum.  This leaves only
  the coefficients above the curve which are used to regenerate the
  time series (without the noise, in theory).  This filter removes 50
  to 60 percent of the coefficients.
  </p>

  <p>
  Its probably worth mentioning that there are other kinds of
  noise, most notably Poisson noise.  In theory daily data
  tends to show gaussian noise, while intraday data would
  should Poisson noise.  Intraday Poisson noise would result
  from the random arrival and size of orders.
  </p>

  <p>
  This function has two public methods:
  </p>
  <ol>
  <li>
  <p>n
  <i>filter_time_series</i>, which is passed a file name and a time series
  </p>
  </li>
  <li>
  <p>
  <i>gaussian_filter</i> which is passed a set of Haar coefficient
  spectrum and an array allocated for the noise values.  The
  noise array will be the same size as the coefficient array.
  </p>
  </li>
  <ol>
    
  </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="noise_filter.bell_info.html" class="type-name-link" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a></code></div>
<div class="col-last even-row-color">
<div class="block">Bell curve info: mean, sigma (the standard deviation)</div>
</div>
<div class="col-first odd-row-color"><code>private class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="noise_filter.bin.html" class="type-name-link" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a></code></div>
<div class="col-last odd-row-color">
<div class="block">
    A histogram bin</div>
</div>
<div class="col-first even-row-color"><code>private class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="noise_filter.point.html" class="type-name-link" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a></code></div>
<div class="col-last even-row-color">
<div class="block">
    The point class represents a coefficient value so that it can be
    sorted for histogramming and then resorted back into the orignal
    ordering (e.g., sorted by value and then sorted by index)</div>
</div>
<div class="col-first odd-row-color"><code>private class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="noise_filter.sort_by_index.html" class="type-name-link" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.sort_by_index</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Sort an array of <i>point</i> objects by the
    index field.</div>
</div>
<div class="col-first even-row-color"><code>private class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="noise_filter.sort_by_val.html" class="type-name-link" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.sort_by_val</a></code></div>
<div class="col-last even-row-color">
<div class="block">Sort an array of <i>point</i> objects by the
    val filed.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">noise_filter</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#alloc_bins(int,double,double)" class="member-name-link">alloc_bins</a><wbr>(int&nbsp;num_bins,
 double&nbsp;low,
 double&nbsp;high)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Allocate an array of histogram bins that is <i>num_bins</i> in
    length.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="noise_filter.point.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#alloc_points(double%5B%5D,int,int,ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bell_info)" class="member-name-link">alloc_points</a><wbr>(double[]&nbsp;coef,
 int&nbsp;start,
 int&nbsp;end,
 <a href="noise_filter.bell_info.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a>&nbsp;info)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
    Allocate and initialize an array of <i>point</i> objects.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calc_histo(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.point%5B%5D,int)" class="member-name-link">calc_histo</a><wbr>(<a href="noise_filter.point.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a>[]&nbsp;pointz,
 int&nbsp;num_bins)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
    Calculate the histogram of the coefficients using 
    <i>num_bins</i> histogram bins</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#class_name()" class="member-name-link">class_name</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#filter_spectrum(double%5B%5D,int,int,double%5B%5D)" class="member-name-link">filter_spectrum</a><wbr>(double[]&nbsp;coef,
 int&nbsp;start,
 int&nbsp;end,
 double[]&nbsp;noise)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
   This function is passed the section of the Haar
   coefficients that correspond to a single spectrum.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#filter_time_series(java.lang.String,double%5B%5D)" class="member-name-link">filter_time_series</a><wbr>(<a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;file_name,
 double[]&nbsp;ts)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculate the Haar tranform on the time series (whose
    length must be a factor of two) and filter it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gaussian_filter(double%5B%5D,double%5B%5D)" class="member-name-link">gaussian_filter</a><wbr>(double[]&nbsp;coef,
 double[]&nbsp;noise)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
   This function is passed a set of Haar wavelet
   coefficients that result from the Haar wavelet
   transform.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#histogram(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bin%5B%5D,ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.point%5B%5D)" class="member-name-link">histogram</a><wbr>(<a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]&nbsp;binz,
 <a href="noise_filter.point.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a>[]&nbsp;pointz)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
    Build a histogram from the sorted data in the pointz
    array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#normal_interval(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bell_info,double,double,int)" class="member-name-link">normal_interval</a><wbr>(<a href="noise_filter.bell_info.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a>&nbsp;info,
 double&nbsp;low,
 double&nbsp;high,
 int&nbsp;num_points)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
    normal_interval</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#normalize_to_zero(double%5B%5D)" class="member-name-link">normalize_to_zero</a><wbr>(double[]&nbsp;noise)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Normalize the noise array to zero by subtracting
    the smallest value from all points.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#subtract_gauss_curve(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bin%5B%5D,ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bell_info,int,double%5B%5D)" class="member-name-link">subtract_gauss_curve</a><wbr>(<a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]&nbsp;binz,
 <a href="noise_filter.bell_info.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a>&nbsp;info,
 int&nbsp;total_points,
 double[]&nbsp;noise)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
    Subtract the gaussian (or normal) curve from the histogram
    of the coefficients.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#zero_points(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bin,int,double%5B%5D)" class="member-name-link">zero_points</a><wbr>(<a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>&nbsp;b,
 int&nbsp;num_zero,
 double[]&nbsp;noise)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">
    Set num_points values in the histogram bin <i>b</i>
    to zero.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.plot">Methods inherited from class&nbsp;ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.<a href="plot.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">plot</a></h3>
<code><a href="plot.html#OpenFile(java.lang.String)">OpenFile</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>noise_filter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">noise_filter</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="class_name()">
<h3>class_name</h3>
<div class="member-signature"><span class="return-type"><a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">class_name</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="plot.html#class_name()">class_name</a></code>&nbsp;in class&nbsp;<code><a href="plot.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">plot</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="histogram(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bin[],ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.point[])">
<h3>histogram</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">histogram</span><wbr><span class="parameters">(<a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]&nbsp;binz,
 <a href="noise_filter.point.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a>[]&nbsp;pointz)</span></div>
<div class="block"><p>
    Build a histogram from the sorted data in the pointz
    array.  The histogram is constructed by appending a
    point object to the the bin <i>vals</i> Vector if the value
    of the point is between b[i].start and b[i].start + step.
    </p></div>
</section>
</li>
<li>
<section class="detail" id="alloc_bins(int,double,double)">
<h3>alloc_bins</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]</span>&nbsp;<span class="element-name">alloc_bins</span><wbr><span class="parameters">(int&nbsp;num_bins,
 double&nbsp;low,
 double&nbsp;high)</span></div>
<div class="block">Allocate an array of histogram bins that is <i>num_bins</i> in
    length.  Initialize the start value of each bin with
    a start value calculated from <i>low</i> and <i>high</i>.</div>
</section>
</li>
<li>
<section class="detail" id="calc_histo(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.point[],int)">
<h3>calc_histo</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]</span>&nbsp;<span class="element-name">calc_histo</span><wbr><span class="parameters">(<a href="noise_filter.point.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a>[]&nbsp;pointz,
 int&nbsp;num_bins)</span></div>
<div class="block"><p>
    Calculate the histogram of the coefficients using 
    <i>num_bins</i> histogram bins
    </p>
    <p>
    The Haar coefficients are stored in point objects
    which consist of the coefficient value and the
    index in the point array.
    </p>
    <p>
    To calculate the histogram, the pointz array is
    sorted by value.  After it is histogrammed it
    is resorted by index to return the original ordering.
    </p></div>
</section>
</li>
<li>
<section class="detail" id="alloc_points(double[],int,int,ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bell_info)">
<h3>alloc_points</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="noise_filter.point.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.point</a>[]</span>&nbsp;<span class="element-name">alloc_points</span><wbr><span class="parameters">(double[]&nbsp;coef,
 int&nbsp;start,
 int&nbsp;end,
 <a href="noise_filter.bell_info.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a>&nbsp;info)</span></div>
<div class="block"><p>
    Allocate and initialize an array of <i>point</i> objects.
    The size of the array is <tt><i>end</i> - <i>start</i></tt>.
    Each point object in the array is initialized with its
    index and a Haar coefficient (from the <i>coef</i> array).
    </p>
    <p>
    Since the allocation code has to iterate through the 
    coefficient spectrum the mean and standard deviation
    are also calculated to avoid an extra iteration.  These
    values are returned in the <i>bell_info</i> object.
    </p></div>
</section>
</li>
<li>
<section class="detail" id="normal_interval(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bell_info,double,double,int)">
<h3>normal_interval</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">normal_interval</span><wbr><span class="parameters">(<a href="noise_filter.bell_info.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a>&nbsp;info,
 double&nbsp;low,
 double&nbsp;high,
 int&nbsp;num_points)</span></div>
<div class="block"><p>
    normal_interval
    </p>

    <p>
    Numerically integreate the normal curve with mean
    <i>info.mean</i> and standard deviation <i>info.sigma</i>
    over the range <i>low</i> to <i>high</i>.
    </P>

    <p>
    There normal curve equation that is integrated is:
     </p>
     <pre>
       f(y) = (1/(s * sqrt(2 * pi)) e<sup>-(1/(2 * s<sup>2</sup>)(y-u)<sup>2</sup></sup>
     </pre>

     <p>
     Where <i>u</i> is the mean and <i>s</i> is the standard deviation.
     </p>

     <p>
     The area under the section of this curve from <i>low</i> to
     <i>high</i> is returned as the function result.
     </p>

     <p>
     The normal curve equation results in a curve expressed as
     a probability distribution, where probabilities are expressed
     as values greater than zero and less than one.  The total area
     under a normal curve with a mean of zero and a standard
     deviation of one is is one.
     </p>

     <p>
     The integral is calculated in a dumb fashion (e.g., we're not
     using anything fancy like simpson's rule).  The area in
     the interval <b>x</b><sub>i</sub> to <b>x</b><sub>i+1</sub>
     is 
     </P>

     <pre>
     area = (<b>x</b><sub>i+1</sub> - <b>x</b><sub>i</sub>) * g(<b>x</b><sub>i</sub>)
     </pre>

     <p>
     where the function g(<b>x</b><sub>i</sub>) is the point on the
     normal curve probability distribution at <b>x</b><sub>i</sub>.
     </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>info</code> - This object encapsulates the mean and standard deviation</dd>
<dd><code>low</code> - Start of the integral</dd>
<dd><code>high</code> - End of the integral</dd>
<dd><code>num_points</code> - Number of points to calculate (should be even)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="zero_points(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bin,int,double[])">
<h3>zero_points</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">zero_points</span><wbr><span class="parameters">(<a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>&nbsp;b,
 int&nbsp;num_zero,
 double[]&nbsp;noise)</span></div>
<div class="block"><p>
    Set num_points values in the histogram bin <i>b</i>
    to zero.  Or, if the number of values is less
    than num_zero, set all values in the bin to zero.
    </p>

    <p>
    The num_zero argument is derived from the area under
    the normal curve in the histogram bin interval.  This
    area is a fraction of the total curve area.  When multiplied
    by the total number of coefficient points we get
    num_zero.
    </p>

    <p>
    The noise coefficients are preserved (returned) in the noise
    array argument.
    </p></div>
</section>
</li>
<li>
<section class="detail" id="subtract_gauss_curve(ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bin[],ec.app.experiments.WaveletExperiment.wavelets.wavelet_util.noise_filter.bell_info,int,double[])">
<h3>subtract_gauss_curve</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">subtract_gauss_curve</span><wbr><span class="parameters">(<a href="noise_filter.bin.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bin</a>[]&nbsp;binz,
 <a href="noise_filter.bell_info.html" title="class in ec.app.experiments.WaveletExperiment.wavelets.wavelet_util">noise_filter.bell_info</a>&nbsp;info,
 int&nbsp;total_points,
 double[]&nbsp;noise)</span></div>
<div class="block"><p>
    Subtract the gaussian (or normal) curve from the histogram
    of the coefficients.  This is done by integrating the 
    gaussian curve over the range of a bin.  If the number of
    items in the bin is less than or equal to the area under the
    curve in that interval, all items in the bin are set to
    zero.  If the number of items in the bin is greater than
    the area under the curve, then a number of bin items equal
    to the curve area is set to zero.
    </p>
    <p>
    The area under a normal curve is always less than or equal
    to one.  So the area returned by normal_interval is the 
    fraction of the total area.  This is multiplied by
    the total number of coefficients.
    </p>
    <p>
    The function returns the number of coefficients that
    are set to zero (e.g., the number of coefficients that
    fell within the gaussian curve).  These coefficients are
    the noise coefficients.  The noise coefficients are returned
    in the noise argument.
    </p></div>
</section>
</li>
<li>
<section class="detail" id="filter_spectrum(double[],int,int,double[])">
<h3>filter_spectrum</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">filter_spectrum</span><wbr><span class="parameters">(double[]&nbsp;coef,
 int&nbsp;start,
 int&nbsp;end,
 double[]&nbsp;noise)</span></div>
<div class="block"><p>
   This function is passed the section of the Haar
   coefficients that correspond to a single spectrum.
   It compares this spectrum to a gaussian
   curve and zeros out the coefficients within the
   gaussian curve.
   </p>
   <p>
   The function returns the number of points filtered out as
   the function result.  The noise spectrum is also returned
   in the <i>noise</i> argument.
   </p></div>
</section>
</li>
<li>
<section class="detail" id="normalize_to_zero(double[])">
<h3>normalize_to_zero</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">normalize_to_zero</span><wbr><span class="parameters">(double[]&nbsp;noise)</span></div>
<div class="block">Normalize the noise array to zero by subtracting
    the smallest value from all points.</div>
</section>
</li>
<li>
<section class="detail" id="gaussian_filter(double[],double[])">
<h3>gaussian_filter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gaussian_filter</span><wbr><span class="parameters">(double[]&nbsp;coef,
 double[]&nbsp;noise)</span></div>
<div class="block"><p>
   This function is passed a set of Haar wavelet
   coefficients that result from the Haar wavelet
   transform.  It applies a gaussian noise filter
   to each frequency spectrum.  This filter zeros
   out coefficients that fall within a gaussian
   curve.  This alters the input data (the coef array).
   </p>
   <p>
   The <i>coef</i> argument is the input argument and
   contains the coefficients.  The <i>noise</i> argument
   is an output argument and contains the coefficients
   that have been filtered out.  This allows a noise
   spectrum to be rebuilt.
   </p></div>
</section>
</li>
<li>
<section class="detail" id="filter_time_series(java.lang.String,double[])">
<h3>filter_time_series</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">filter_time_series</span><wbr><span class="parameters">(<a href="https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;file_name,
 double[]&nbsp;ts)</span></div>
<div class="block">Calculate the Haar tranform on the time series (whose
    length must be a factor of two) and filter it.  Then
    calculate the inverse transform and write the result
    to a file whose name is <i>file_name</i>.  A noise
    spectrum is written to <i>file_name</i>_noise.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
